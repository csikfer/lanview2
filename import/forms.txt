// lanview2 import fájl
// Megjelenítéssel kapcsolatos adatok

// Enumerációs értékek megjelenítése:

DELETE ENUM TITLE dayofweek;
//   típus          érték neve            megjelenítendő szöveg                
ENUM dayofweek      sunday          TITLE "vasárnap";
ENUM dayofweek      monday          TITLE "hétfő";
ENUM dayofweek      tuesday         TITLE "kedd";
ENUM dayofweek      wednesday       TITLE "szerda";
ENUM dayofweek      thursday        TITLE "csütörtök";
ENUM dayofweek      friday          TITLE "péntek";
ENUM dayofweek      saturday        TITLE "szombat";

DELETE ENUM TITLE notifswitch;
ENUM notifswitch    on              TITLE "rendben";
ENUM notifswitch    recovered       TITLE "helyreállt";
ENUM notifswitch    warning         TITLE "figyelmeztetés";
ENUM notifswitch    critical        TITLE "kritikus";
ENUM notifswitch    unreachable     TITLE "nem válaszol";
ENUM notifswitch    down            TITLE "kikapcsolva";
ENUM notifswitch    flapping        TITLE "billeg";
ENUM notifswitch    unknown         TITLE "ismeretlen";

DELETE ENUM TITLE rights;
ENUM rights         none            TITLE "jogosulatlan";
ENUM rights         viewer          TITLE "megfigyelő";
ENUM rights         indalarm        TITLE "rendész";
ENUM rights         operator        TITLE "operátor";
ENUM rights         admin           TITLE "adminisztrátor";
ENUM rights         system          TITLE "rendszer";

DELETE ENUM TITLE filtertype;
ENUM filtertype     begin           TITLE "Szó eleji egyezés";
ENUM filtertype     like            TITLE "Minta illesztés a LIKE operátorral";
ENUM filtertype     similar         TITLE "Minta illesztés a SIMILAR operátorral";
ENUM filtertype     regexp          TITLE "Minta illesztés reguláris kifelyezéssel, nagybetű érzékeny";
ENUM filtertype     regexpi         TITLE "Minta illesztés reguláris kifelyezéssel, nem nagybetű érzékeny";
ENUM filtertype     big             TITLE "Csak egy értéknél nagyobbakat";
ENUM filtertype     litle           TITLE "Csak egy értéknél kisebbeket";
ENUM filtertype     interval        TITLE "Csak a megadott két érték közöttiek";
ENUM filtertype     proc            TITLE "Szűrés egy magadott SQL függvénnyel";
ENUM filtertype     "SQL"           TITLE "A szürési feltétel megadása SQL nyelven";

DELETE GUI "%" MENU;
DELETE TABLE SHAPE "%";

INCLUDE "iaform.txt";
// ***************************************************************************************
TABLE phs_links_shape SHAPE phs_links "Fizikai linkek" {
    TABLE TYPE  CHILD, LINK;
    TABLE TITLE "Fizikai linkek", "Fizikai link, patch";
    ADD FIELD port_name1        {  TITLE "Port",        "Port név";     ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_index1       {  TITLE "Index",       "Port index";   ADD FILTERS big,litle,interval; }
    ADD FIELD phs_link_type1    {  TITLE "Típus",       "Típus";        ADD FILTERS begin, like; }
    ADD FIELD link_type         {  TITLE "Busz",        "Busz";         ADD FILTERS begin, like; }
    ADD FIELD port_shared       {  TITLE "Megosztás",   "Megosztás";    ADD FILTERS begin, like; }
    ADD FIELD phs_link_note     {  TITLE "Megjegyzés",  "Megjegyzés";   ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD node_name2        {  TITLE "Linked",      "Linked elem";  ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_name2        {  TITLE "port",        "Linked port";  ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_index2       {  TITLE "index",   "Linked port index";ADD FILTERS big,litle,interval; }
    ADD FIELD phs_link_type2    {  TITLE "Típus",       "Típus";        ADD FILTERS begin, like; }
    FIELD port_index1, port_name1, phs_link_type1             ORD asc,desc,no;
    FIELD node_name2, port_name2, port_index2, phs_link_type2 ORD no, asc, desc;
    TABLE FEATURES ":pports.owner=port_id1:hostports.owner=port_id1:"; 
}

TABLE log_links_shape SHAPE log_links "Logikai linkek" {
    TABLE TYPE  CHILD, LINK;
    TABLE TITLE "Logikai linkek";
    TABLE READ ONLY;
    ADD FIELD port_name1        {  TITLE "Port",        "Port";         ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_index1       {  TITLE "Index",       "Index";        ADD FILTERS big,litle,interval; }
    ADD FIELD node_name2        {  TITLE "Linked node", "Linked node";  ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_name2        {  TITLE "Port",        "Linked Port";  ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_index2       {  TITLE "Index",  "Linked Port Index"; ADD FILTERS big,litle,interval; }
    FIELD port_index1                                     ORD asc,desc,no;
    FIELD port_name1, node_name2, port_name2, port_index2 ORD no, asc, desc;
    TABLE FEATURES ":hostports.owner=port_id1:"; 
}

TABLE lldp_links_shape SHAPE lldp_links "LLDP linkek" {
    TABLE TYPE  CHILD, LINK;
    TABLE TITLE "LLDP linkek";
    TABLE READ ONLY;
    ADD FIELD port_name1        {  TITLE "Port",        "Port";         ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_index1       {  TITLE "Index",       "Index";        ADD FILTERS big,litle,interval; }
    ADD FIELD node_name2        {  TITLE "Linked node", "Linked node";  ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_name2        {  TITLE "Port",        "Linked Port";  ADD FILTERS begin, like, similar, regexp, regexpi; }
    ADD FIELD port_index2       {  TITLE "Index",  "Linked Port Index"; ADD FILTERS big,litle,interval; }
    FIELD port_index1                                     ORD asc,desc,no;
    FIELD port_name1, node_name2, port_name2, port_index2 ORD no, asc, desc;
    TABLE FEATURES ":hostports.owner=port_id1:"; 
}

TABLE patchs SHAPE phsnodes "Hálózati elem" {
    SET DEFAULTS;
    TABLE TYPE OWNER;
    TABLE INHERIT TYPE on;
    TABLE READ ONLY;
    RIGHT SHAPE phs_links, log_links, lldp_links;
    FIELD node_name ORD asc,desc,no;
    FIELD node_note, place_id ORD no, asc, desc;
    FIELD node_name, node_type, node_note, place_id ADD FILTERS begin, like, similar, regexp, regexpi;
    TABLE FEATURES ":button.copy:";
}

// ***************************************************************************************
// Objects:
// Adattáblák (objektumok) megjelenítése

TABLE SHAPE port_params "Port paraméterek" {
    SET DEFAULTS;
    TABLE               TITLE "Port paraméterek", "A porthoz rendelt paraméter",;
    FIELD param_type_id { TITLE "Típus",@; ADD FILTERS begin, like, similar, regexp, regexpi; }
    FIELD param_value   { TITLE "Érték",@; ADD FILTERS begin, like, similar, regexp, regexpi; }
    FIELD param_type_id, param_value ORD asc,desc,no;
}

TABLE SHAPE pports "Pach panel és fali csatlakozó portok" {
    SET NO TREE DEFAULTS;       // Az összes mező felvétele alapértelmezett tulajdonságokkal (CHILD)
    
    TABLE                TITLE "A kiválasztott csatlakozó vagy panel portjai", "Pach panel vagy fali csatlakozó port",;
    FIELD port_name      TITLE "Név",@;
    FIELD port_note      TITLE "Megjegyzés",@;
    FIELD port_tag       TITLE "Cimke",@;
    FIELD port_index     TITLE "Index",     "A port sorszáma (kötelező)";
    FIELD shared_cable   TITLE "Megosztás", "A megosztás típusa";
    FIELD shared_port_id TITLE "Megosztva", "Másodlagos megosztáshoz tartozó elsődleges port";
    
    TABLE TYPE CHILD, OWNER;    // patchs tulajdona, de a pports tulajdonosa
    TABLE INHERIT TYPE only;    // Öröklés kizárása, ős ill. leszármazott objektumok nem kerülnek megjelenítésre
    RIGHT SHAPE port_params, phs_links;
    FIELD iftype_id FLAG ON HIDE;  // Csak egy típus van, nem jelenítjük meg sehol
    FIELD iftype_id DEFAULT VALUE STRING(ID IFTYPE(patch));     // Új portnál mindíg ezt a típust kell beállítani
    FIELD port_index ORD asc,desc,no;                           // Alapértelmezetten a port indexre lessz rendezve
    FIELD port_name, port_tag, port_note  ORD no, asc, desc;    // Rendezhető még a névre, cimkére vagy a megjegyzésre
    FIELD port_index ADD FILTERS big, litle, interval; // A port indexre megadható szűrő: kicebb, nagyobb és tartomány
    FIELD port_name, port_tag, port_note, shared_cable ADD FILTERS begin, like, similar, regexp, regexpi;
    TABLE FEATURES ":button.copy:";
}

TABLE SHAPE patchs "Pach panelek és fali csatlakozók" {
    SET DEFAULTS;
    
    TABLE            TITLE "Pach panelek és fali csatlakozók", "Pach panel vagy fali csatlakozó",;
    FIELD node_name  TITLE "Név",@;
    FIELD node_note  TITLE "Megjegyzés",@;
    FIELD place_id { TITLE "Hely",@; FLAG ON BATCH EDIT; }
    FIELD features   TITLE "Egyébb paraméterek", "Egyébb paraméterek";
    FIELD node_type  FLAG HIDE, AUTO SET;
    TABLE TYPE OWNER;
    TABLE INHERIT TYPE only;
    RIGHT SHAPE pports, port_params, phs_links;  // plussz a paraméter rekordok
    FIELD node_name ORD asc,desc,no;
    FIELD node_note, place_id ORD no, asc, desc;
    FIELD node_name, node_note, place_id ADD FILTERS begin, like, similar, regexp, regexpi;
    TABLE FEATURES ":button.copy:";
}

TABLE SHAPE nports "Passzív portok (Csak dialógus!)" {
    SET DEFAULTS;
    
    TABLE               TITLE ,"Passzív port",@;
    FIELD port_name     TITLE "Név",@;
    FIELD port_note     TITLE "Megjegyzés",@;
    FIELD port_tag      TITLE "Cimke",@;
    FIELD port_index    TITLE "Index",   "A port sorszáma (opcionális)";
    FIELD iftype_id     TITLE "Típus",   "A port típusa";
    
    TABLE TYPE DIALOG;
    TABLE INHERIT TYPE no;
    
    FIELD port_name ORD asc,desc,no;
    FIELD port_tag, port_note, iftype_id, port_index ORD no, asc, desc;
    FIELD port_index ADD FILTERS big, litle, interval;
    FIELD port_name, port_tag, port_note ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD iftype_id ADD FILTERS like;
}

TABLE SHAPE nodes "Passzív, felügyeletbe bevont elemek (Csak dialógus!)" {
    SET DEFAULTS;
    
    TABLE            TITLE ,"Hálózati végberendszés","Nem SNMP eszköz";
    FIELD node_name  TITLE "Név",@;
    FIELD node_note  TITLE "Megjegyzés",@;
    FIELD place_id { TITLE "Hely", "Az eszköz helye";           FLAG ON BATCH EDIT; }
    FIELD features   TITLE "paraméterek", "Egyébb paraméterek";
    FIELD node_type{ TITLE "Típus", "Az eszköz típusa";         FLAG ON BATCH EDIT; }
    FIELD node_stat{ TITLE "Állapot", "Az eszköz állpota";      FLAG ON BATCH EDIT; }
    
    TABLE TYPE DIALOG;
    TABLE INHERIT TYPE only;
    
    FIELD node_name ORD asc,desc,no;
    FIELD node_note, place_id, node_stat ORD no, asc, desc;
    FIELD node_name, node_note,node_stat,node_type ADD FILTERS begin, like, similar, regexp, regexpi;
    
    FIELD node_stat DEFAULT VALUE unknown;
    FIELD node_type DEFAULT VALUE "{node}";
    FIELD node_stat, node_type EDIT RIGHTS admin;
}

TABLE SHAPE ipaddresses "IP címek" {
    SET DEFAULTS;
    
    TABLE                 TITLE "IP ímek", "IP cím";
    FIELD ip_address_note TITLE "Megjegyzés",@;
    FIELD address         TITLE "Cím",@;
    FIELD ip_address_type TITLE "Típus", "A cím típusa";
    FIELD subnet_id       TITLE "Alhálózat", @;
    
    FIELD preferred ORD asc,desc,no;
    FIELD address, ip_address_note ORD no, asc, desc;
}

TABLE mactab_shape SHAPE mactab_port "Port címtábla" {
    SET DEFAULTS;
    TABLE READ ONLY;
    TABLE FEATURES ":hostports.owner=port_id:";
    FIELD node_id, node_name, port_id, port_name FLAG ON HIDE;
}


TABLE interfaces SHAPE hostports "Hálózati interfészek, portok (fa)" {
    SET DEFAULTS;
    TABLE TYPE CHILD, OWNER, TREE;
    RIGHT SHAPE ipaddresses,  port_params, mactab_port, phs_links, log_links, lldp_links;
    TABLE INHERIT TYPE listed_rev;
    INHERIT TABLE NAMES nports;                 // A teljes lista: interfaces, nports

    TABLE               TITLE "Hálózati interfészek és portok","Hálózati interfész vagy passzív port", "Aktív port vagy interfész";
    FIELD port_name     TITLE "Név",@;
    FIELD port_note     TITLE "Megjegyzés",@;
    FIELD port_tag      TITLE "Cimke",@;
    FIELD port_index    TITLE "Index", "A port sorszáma";
    FIELD port_index TOOL TIP "SNMP eszköz esetén az index kötelező, és azonos az interfész SNMP azonosítójával.";
    FIELD iftype_id     TITLE "Típus", "A port típus";
    
    FIELD port_staple_id FEATURES ":owner=self:";
    FIELD port_staple_id FLAG ON HIDE;
    FIELD port_ostat, port_astat READ ONLY;
    FIELD port_ostat DEFAULT VALUE unknown;
    FIELD port_astat DEFAULT VALUE unknown;
    FIELD port_index ORD asc,desc,no;
    FIELD port_name, port_tag, port_note, iftype_id ORD no, asc, desc;
//  FIELD port_name, port_tag, port_note ADD FILTERS begin, like, similar, regexp, regexpi;
    TABLE FEATURES ":button.copy:";
}

TABLE SHAPE node_params "Eszköz paraméterek" {
    SET DEFAULTS;
    
    TABLE               TITLE "Eszköz paraméterek", "Az eszközhöz rendelt paraméter",;
    FIELD param_type_id { TITLE "Típus",@; ADD FILTERS begin, like, similar, regexp, regexpi; }
    FIELD param_value   { TITLE "Érték",@; ADD FILTERS begin, like, similar, regexp, regexpi; }
    FIELD param_type_id, param_value ORD asc,desc,no;
}

TABLE host_services SHAPE host_services_tree "A hostokhoz rendelt szervíz példányok (fa)" {
    SET DEFAULTS;
    TABLE TYPE TREE;
    FIELD node_id, service_id, port_id ORD asc,desc,no;
    FIELD prime_service_id, proto_service_id, superior_host_service_id, host_service_state, soft_state, hard_state, last_changed, last_touched ORD no,asc,desc;
    TABLE FEATURES ":button.copy:";
}

TABLE SHAPE host_services "A hostokhoz rendelt szervíz példányok (táblázat)" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    FIELD node_id, service_id, prime_service_id, proto_service_id, superior_host_service_id, timeperiod_id, noalarm_flag,
            online_group_ids, offline_group_ids, host_service_state, soft_state, hard_state, state_msg
        ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD node_id, service_id, port_id ORD asc,desc,no;
    FIELD prime_service_id, proto_service_id, superior_host_service_id, host_service_state, soft_state, hard_state, last_changed, last_touched ORD no,asc,desc;
    TABLE FEATURES ":button.copy:allnodes.owner=node_id:";
    FIELD disabled, prime_service_id, proto_service_id, superior_host_service_id, 
            max_check_attempts,  normal_check_interval,  retry_check_interval, timeperiod_id, flapping_interval, flapping_max_change,
            noalarm_flag, offline_group_ids, online_group_ids
        FLAG ON BATCH EDIT;
    FIELD noalarm_flag FEATURES ":batch_edit_fields=noalarm_from,noalarm_to:";
}

TABLE mactab_shape SHAPE mactab_node "Port címtábla" {
    SET DEFAULTS;
    TABLE READ ONLY;
    TABLE FEATURES ":allnodes.owner=node_id:";
    FIELD node_id, node_name, port_id FLAG HIDE;
    FIELD port_name ORD asc,desc,no;
    FIELD hwaddress, r_node_name, r_port_name, set_type ORD no,asc,desc;
    FIELD port_name, hwaddress, r_node_name, r_port_name, set_type ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD first_time, last_time, state_updated_time ADD FILTERS litle, big, interval;
}

TABLE snmpdevices SHAPE allnodes "Hálózati elemek" {
    SET DEFAULTS;
    
    TABLE            TITLE "Aktív és passzív hálózati elemek", "Aktív vagy passzív hálózati elem", "Aktív SNMP eszköz";
    FIELD node_id    FLAG ON HIDE;
    FIELD node_name  TITLE "Név",@;
    FIELD node_note  TITLE "Megjegyzés",@;
    FIELD place_id   TITLE "Hely", "Az eszköz helye";
    FIELD features   TITLE "paraméterek", "Egyébb paraméterek";
    FIELD node_type  TITLE "Típus", "Az eszköz típusa";
    FIELD node_stat  TITLE "Állapot", "Az eszköz állpota";
    FIELD community_rd TITLE "SNMP read community",@;
    FIELD community_wr TITLE "SNMP write community",@;
    FIELD snmp_ver   TITLE "SNMP verzió",@;
    FIELD place_id, community_rd, community_wr, snmp_ver FLAG ON BATCH EDIT;
    
    TABLE TYPE OWNER;
    TABLE INHERIT TYPE listed_rev;      // Megjelenítjük az ős tábla elemeit is
    INHERIT TABLE NAMES nodes;          // A teljes lista: snmpdevices, nodes
    TABLE FEATURES ":button.copy:";
    RIGHT SHAPE hostports, node_params, lldp_links, log_links, host_services, mactab_node;
    FIELD node_name ORD asc,desc,no;
    FIELD node_note, place_id, node_type ORD no, asc, desc;
    FIELD node_name, node_note, place_id, node_type, features, node_stat ADD FILTERS begin, like, similar, regexp, regexpi;
}

TABLE SHAPE services "Szolgáltatások" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    TABLE FEATURES ":button.copy:";
    FIELD service_name ORD asc,desc,no;
    FIELD service_name, service_note, service_type_id, features, check_cmd ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD disabled, service_type_id,
    max_check_attempts, normal_check_interval,  retry_check_interval, timeperiod_id, flapping_interval, flapping_max_change, service_type_id, offline_group_ids, online_group_ids
    FLAG ON BATCH EDIT;
}

TABLE SHAPE service_types "Szolgáltatás típusok" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
}

TABLE SHAPE query_parsers "Lekérdezés értelmezések" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    FIELD service_id, item_sequence_number ORD asc,desc,no;
    FIELD service_id, regular_expression, import_expression ADD FILTERS begin, like, similar, regexp, regexpi;
}

TABLE SHAPE subnets "Alhálózatok" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    TABLE FEATURES ":vlans.owner=vlan_id:";
    FIELD subnet_name ORD asc,desc,no;
    FIELD netaddr, vlan_id, subnet_type ORD no,asc,desc;
}

TABLE SHAPE vlans "VLAN-ok" {
    SET DEFAULTS;
    TABLE TYPE OWNER;
    RIGHT SHAPE subnets;
    TABLE FEATURES ":button.copy:";
    FIELD vlan_id ADD FILTERS big, litle, interval;
    FIELD vlan_name, vlan_note ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD vlan_id ORD asc,desc,no;
    FIELD vlan_name, vlan_note ORD no, asc, desc;
}

TABLE SHAPE images {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    TABLE FEATURES ":button.copy:";
    FIELD image_id   FLAG ON HIDE;
    FIELD image_hash FLAG ON HIDE, READ ONLY;
    FIELD image_data FLAG ON HIDE TABLE;
    FIELD image_name, image_note, image_type, image_sub_type ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD image_name ORD asc,desc,no;
    FIELD image_note, image_type, image_sub_type ORD no, asc, desc;
}

TABLE SHAPE dyn_addr_ranges "Dinamikus címtartományok" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    FIELD dyn_addr_range_id FLAG HIDE;
    FIELD begin_address ORD asc,desc,no;
    FIELD end_address, last_time, exclude ORD no,asc,desc;
}


TABLE SHAPE tpows "Időintervallumok, a hét napjaira" {
    SET DEFAULTS;
    TABLE TITLE "","Rész időintervallum",,"Tag rész időintervallumok", "Nem tag rész időintervallumok";
    TABLE TYPE MEMBER;
    FIELD dow, begin_time ORD asc,desc,no;
    FIELD tpow_name, tpow_note ORD no, asc, desc;
    FIELD tpow_name, tpow_note, dow ADD FILTERS begin, like, similar, regexp, regexpi;
}

TABLE SHAPE timeperiods "Időintervallumok" {
    SET DEFAULTS;
    TABLE TYPE GROUP;
    RIGHT SHAPE tpows;
    FIELD timeperiod_name ORD asc, desc, no;
    FIELD timeperiod_name, timeperiod_note ADD FILTERS begin, like, similar, regexp, regexpi;
}

// ***************************************************************************************
// events

TABLE SHAPE user_events "Felhasználói események" {
    SET DEFAULTS;
    TABLE TYPE READ ONLY, CHILD;
    FIELD date_of ORD desc, asc, no;
    FIELD user_id, event_type ORD no, asc, desc;
    FIELD date_of, user_id, event_type, user_event_note ADD FILTERS begin, like, similar, regexp, regexpi;
}

TABLE alarms SHAPE alarms_tree "Riasztások (fa)" {
    SET DEFAULTS;
    TABLE TYPE TREE, READ ONLY, OWNER;
    RIGHT SHAPE user_events;
    TABLE                   TITLE "Riasztási események", "Riasztási esemény",;
    FIELD alarm_id          TITLE "ID",            "Riasztás egyedi azonosító kódja";
    FIELD host_service_id   TITLE "host:service",  "Szolgálltatás példány";
    FIELD daemon_id         TITLE "daemon",        "Lekérdező daemon";
    FIELD first_status      TITLE "kezdő áll.",    "Állapot a risztás kezdetekor";
    FIELD max_status        TITLE "krit. áll.",    "Legkritikusabb állapot a riasztás alatt";
    FIELD begin_time        TITLE "kezdete",       "A kritikus esemény kezdete";
    FIELD event_note        TITLE "üzenet",        "A riasztást dezektáló folyamat üzenete";
    FIELD superior_alarm_id FLAG ON HIDE;
    FIELD noalarm           TITLE "letiltva",      "Az értesítés letiltása";
    FIELD end_time          TITLE "vége",          "A kritikus esemény vége";
    FIELD event_note FLAG ON HUGE;
    FIELD begin_time ORD desc, asc, no;
    FIELD end_time ORD no, desc, asc;
    
}

TABLE SHAPE alarms "Riasztások (tábla)" {
    SET DEFAULTS;
    TABLE TYPE READ ONLY, OWNER;
    RIGHT SHAPE user_events;
    TABLE                   TITLE "Riasztási események", "Riasztási esemény",;
    FIELD alarm_id          TITLE "ID",            "Riasztás egyedi azonosító kódja";
    FIELD host_service_id   TITLE "host:service",  "Szolgálltatás példány";
    FIELD daemon_id         TITLE "daemon",        "Lekérdező daemon";
    FIELD first_status      TITLE "kezdő áll.",    "Állapot a risztás kezdetekor";
    FIELD max_status        TITLE "krit. áll.",    "Legkritikusabb állapot a riasztás alatt";
    FIELD begin_time        TITLE "kezdete",       "A kritikus esemény kezdete";
    FIELD event_note        TITLE "üzenet",        "A riasztást dezektáló folyamat üzenete";
    FIELD superior_alarm_id TITLE "Superior",@;
    FIELD noalarm           TITLE "letiltva",      "Az értesítés letiltása";
    FIELD end_time          TITLE "vége",          "A kritikus esemény vége";
    
    FIELD host_service_id, daemon_id, max_status, event_note, noalarm ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD begin_time, end_time ADD FILTERS big, litle, interval;
    FIELD begin_time ORD desc, asc, no;
    FIELD end_time ORD no, desc, asc;
}

TABLE SHAPE db_errs "Adatbázis hiba napló" {
    SET DEFAULTS;
    TABLE READ ONLY;
    FIELD dblog_id FLAG HIDE;
    FIELD date_of ORD desc,asc,no;
    FIELD error_id, user_id, table_name, trigger_op, err_subcode, err_msg, func_name, reapeat, date_of_last, acknowledged ORD no, asc,desc;
    FIELD error_id, user_id, table_name, trigger_op, err_subcode, err_msg, func_name, acknowledged ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD error_id, date_of, reapeat, date_of_last ADD FILTERS big, litle, interval;
}

TABLE SHAPE app_errs "Applikáció hiba napló" {
    SET DEFAULTS;
    TABLE READ ONLY;
    FIELD date_of       TITLE "időpontja", "Az esemény időpontja";
    FIELD app_name      TITLE "App.", "A program neve";
    FIELD node_id       TITLE "Host", "A futtató szg. neve";
    FIELD pid           TITLE "PID", "Folyamat azonosító (PID)";
    FIELD app_ver       TITLE "P.ver.", "A progra verziószáma";
    FIELD lib_ver       TITLE "L.ver.", "A könyvtár verziószáma";
    FIELD user_id       TITLE "Felhasználó",@;
    FIELD service_id    TITLE "Szervíz", @;
    FIELD func_name     TITLE "Főggvény", "Függvény neve a forrásban";
    FIELD src_name      TITLE "Forrás név", "A forrás fájl neve";
    FIELD src_line      TITLE "Forrás sor", "A kod sor száma";
    FIELD err_name      TITLE "Típus", "Hiba típusa";
    FIELD err_subcode   TITLE "Hiba par.", "Másodlagost hiba paraméter";
    FIELD err_syscode   TITLE "Sys.","Utolsó rendszer hiba típusa";
    FIELD err_submsg    TITLE "Hiba par.", "Másodlagost hiba paraméter";
    FIELD thread_name   TITLE "Szál","Program szál neve";
    FIELD sql_err_num   TITLE "SQL c.","SQL hiba kód";
    FIELD sql_err_type  TITLE "SQL t.","SQL hiba típus";
    FIELD sql_driver_text TITLE "SQL dr.","SQL Driver";
    FIELD sql_db_text   TITLE "QSL db","SQL db";
    FIELD sql_query     TITLE "Query","SQL Query";
    FIELD sql_bounds    TITLE "Bounds","SQL Bounds";
    FIELD data_line     TITLE "Adat sor","Feldolgozott sor";
    FIELD data_pos      TITLE "Adat poz","Feldolgozott pozíció";
    FIELD data_msg      TITLE "Adat üz.","Hiba üzenet";
    FIELD data_name     TITLE "Adat név","Feldolgozott neve";
    FIELD acknowledged  TITLE "Nyugta","Nugtázva";
    
    FIELD err_submsg, sql_driver_text, sql_db_text, sql_query, sql_bounds, data_msg FLAG ON HUGE;
    FIELD date_of ORD desc, asc, no;
    FIELD date_of ADD FILTERS big, litle, interval;
    FIELD app_name, node_id, user_id, service_id, func_name, src_name, err_name, err_submsg,
          thread_name, sql_driver_text, sql_db_text, sql_query, sql_bounds, data_msg
                ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD pid, src_line, err_code, err_subcode, err_syscode ADD FILTERS big, litle, interval;
}

TABLE SHAPE app_memos "Applikáció napló" {
    SET DEFAULTS;
    // TABLE READ ONLY;
    TABLE FEATURES ":dialog.height=13:";
    TABLE VIEW RIGHTS operator;
    TABLE EDIT RIGHTS system;
    TABLE DELETE RIGHTS admin;
    TABLE INSERT RIGHTS system;
    FIELD app_memo_id FLAG HIDE;
    FIELD memo {
        FLAG ON HUGE;       // több sosros
        FEATURES ":stretch.vertical=1:";
    }
    FIELD date_of ORD desc, asc, no;
    FIELD importance ORD asc, desc, no;
    FIELD date_of ADD FILTERS big, litle, interval;
    FIELD memo, app_name, node_id, user_id, func_name, src_name, thread_name, importance, acknowledged  ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD pid, src_line ADD FILTERS big, litle, interval;
    
}

TABLE SHAPE host_service_logs "A szervíz példányok log rekordjai" {
    SET DEFAULTS;
    TABLE READ ONLY;
    TABLE TYPE SIMPLE;
    FIELD date_of ORD desc,asc,no;
    FIELD host_service_id, event_note, superior_alarm_id, noalarm ORD no, asc, desc;
    FIELD host_service_id, old_state, old_soft_state, old_hard_state,
                           new_state, new_soft_state, new_hard_state, event_note, superior_alarm_id, noalarm
                    ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD date_of ADD FILTERS big, litle, interval;
}

// ***************************************************************************************
// NET Others:

TABLE SHAPE iftypes "Port típusok" {
    SET DEFAULTS;
    TABLE READ ONLY;
    TABLE TYPE SIMPLE;
}

TABLE SHAPE arps "ARP tábla" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    FIELD ipaddress  TITLE "IP",     "IP cím";
    FIELD hwaddress  TITLE "MAC",    "MAC cím";
    FIELD first_time TITLE first,    "Első detektálás ideje";
    FIELD last_time  TITLE last,     "Utoló detektálás ideje";
    FIELD ipaddress ORD asc,desc,no;
    FIELD hwaddress, first_time, last_time ORD no,asc,desc;
}

TABLE SHAPE arp_logs "ARP lekérdezés napló." {
    SET DEFAULTS;
    TABLE READ ONLY;
    FIELD date_of ORD desc,asc,no;
}

TABLE mactab_shape SHAPE mactab "Port címtábla" {
    SET DEFAULTS;
    TABLE READ ONLY;
    FIELD node_id, port_id FLAG ON HIDE;
    FIELD hwaddress ORD asc,desc,no;
    FIELD node_name, port_name, r_node_name, r_port_name, set_type ORD no,asc,desc;
    FIELD node_name, port_name, hwaddress, r_node_name, r_port_name, set_type ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD first_time, last_time, state_updated_time ADD FILTERS litle, big, interval;
}

TABLE SHAPE mactab_logs "Port címtábla lekérdezés napló" {
    SET DEFAULTS;
    TABLE READ ONLY;
    FIELD date_of ORD desc,asc,no;
}

// ***************************************************************************************

TABLE SHAPE fkey_types "Távoli kulcs típusok" {
    SET DEFAULTS;
    TABLE READ ONLY;
    TABLE VIEW RIGHTS operator;
}
TABLE SHAPE unusual_fkeys "Nem tipikus távoli kulcsok" {
    SET DEFAULTS;
    TABLE READ ONLY;
    TABLE VIEW RIGHTS operator;
}


// ***************************************************************************************
// GUI

TABLE SHAPE alarm_messages "Figyelmeztető üzenetek szövege" {
    SET DEFAULTS;
    
}

TABLE SHAPE table_shape_filters "Szűrési lehetőség a mezőkre" {
    SET DEFAULTS;
    TABLE TYPE CHILD;
}

TABLE SHAPE table_shape_fields "Tábla mezők megjelenítése" {
    SET DEFAULTS;
    TABLE TYPE CHILD, OWNER;
    RIGHT SHAPE table_shape_filters;
    TABLE TITLE "Adattábla megjelenítés mező leírók","Adattábla megjelenítés mező leíró";
    FIELD table_shape_field_name TITLE "Név","Mező ill. oszlop név";
    FIELD table_shape_field_note TITLE "Megjegyzés",@;
    FIELD table_title           TITLE "Oszlop címsora","Oszlop címsora a táblázatban";
    FIELD dialog_title          TITLE "Mező címsora","Mező címsora a dialógusban";
    FIELD field_sequence_number TITLE "Mező sorrendiség",@;
    FIELD ord_types             TITLE "Rendezés", "Az oszlop rendezési lehetőségei";
    FIELD ord_init_type         TITLE "Rendezve", "Az oszlop alapértelmezett rendezése";
    FIELD ord_init_sequence_number TITLE "Mező rendezés sorrendiség",@;
    FIELD field_flags           TITLE "Mező tulajdonságok",@;
    FIELD expression            FLAG ON HIDE; // nem használt
    FIELD default_value         FLAG ON HIDE; // nem használt
    FIELD features              TITLE "Egyébb modosítók","Egyébb modosítók (features)";
    FIELD tool_tip              TITLE "Tool Tip",@;
    FIELD whats_this            TITLE "Whats this?",@;
    FIELD view_rights           TITLE "Betekintési jog","Minimális jogosultság a megtekintéshez";
    FIELD edit_rights           TITLE "Szerkesztési jog","Minimális jogosultság a szerkesztéshez";
    FIELD flag                  FLAG ON HIDE; // system
    FIELD * ORD no, asc, desc;
    FIELD field_sequence_number ORD asc,desc,no;
    FIELD table_shape_field_name,table_shape_field_note,field_flags,view_rights,edit_rights ADD FILTERS begin, like, similar, regexp, regexpi;
}

TABLE SHAPE table_shapes "Adattábla megjelenítő leíró" {
    SET DEFAULTS;
    TABLE TYPE OWNER;
    RIGHT SHAPE table_shape_fields;
    TABLE TITLE "Adattábla megjelenítés leírók","Adattábla megjelenítés leíró";
    FIELD table_shape_name      TITLE "Leíró neve",@;
    FIELD table_shape_note      TITLE "Megjegyzés",@;
    FIELD table_title           TITLE "Táblázat címsora",@;
    FIELD dialog_title          TITLE "Dialógus címsora",@;
    FIELD dialog_tab_title      TITLE "Dialógus tab címsora",@;
    FIELD member_title          TITLE "Tagjai táblázat címsora",@;
    FIELD not_member_title      TITLE "Nem tagjai táblázat címsora",@;
    FIELD table_shape_type      TITLE "Leíró típusa",@;
    FIELD table_name            TITLE "Az adattábla neve",@;
    FIELD schema_name           TITLE "Az adattábla séma neve",@;
    FIELD table_inherit_type    TITLE "Az ősök és/vagy leszármazottak",@;
    FIELD inherit_table_names   TITLE "A megjelenített rokonok",@;
    FIELD refine              { TITLE "Szűrő","Konstans SQL szűrő kifejezés"; FLAG ON HUGE; }
    FIELD features              TITLE "Egyébb modosítók","Egyébb modosítók (features)";
    FIELD right_shape_ids       TITLE "Jobb oldali meírók","Jobb oldali alárendelt meírók";
    FIELD auto_refresh          TITLE "Autóm.frissítés","Táblázat automatikus frissítésének időköze";
    FIELD view_rights           TITLE "Betekintési jog","Minimális jogosultság a megtekintéshez";
    FIELD edit_rights           TITLE "Szerkesztési jog","Minimális jogosultság a szerkesztéshez";
    FIELD insert_rights         TITLE "Hozzáadási jog","Minimális jogosultság új rekord hozzáadásához";
    FIELD remove_rights         TITLE "Törlési jog","Minimális jogosultság a törléshez";
    FIELD * ORD no, asc, desc;
    FIELD table_shape_name ORD asc, desc, no;
    FIELD right_shape_ids  ORD no;
    FIELD table_shape_name,table_shape_note,table_name,inherit_table_names,refine,features,auto_refresh,
          view_rights,edit_rights,insert_rights,remove_rights ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD auto_refresh ADD FILTERS litle, big, interval;
}

TABLE SHAPE menu_items "Menu elemek" {
    SET DEFAULTS;
    TABLE TYPE TREE;
}

TABLE SHAPE enum_vals "Enumerációs értékek" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    FIELD * ORD asc,desc,no;
    FIELD SEQUENCE 10 enum_type_name, enum_val_name, enum_val_note;
    FIELD ORD SEQUENCE 10 enum_type_name, enum_val_name, enum_val_note;
    FIELD enum_val_id FLAG ON HIDE TABLE;
    FIELD enum_type_name, enum_val_name, enum_val_note ADD FILTERS begin, like, similar, regexp, regexpi;
}

TABLE SHAPE param_types "Paraméter típus leírók" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    FIELD * ORD asc,desc,no;
    FIELD param_type_id FLAG ON HIDE TABLE;
    FIELD param_type_name, param_type_note, param_type_type, param_type_dim ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD param_type_name TITLE "Paraméter típus név",@;
    FIELD param_type_note TITLE "Megjegyzés",@;
    FIELD param_type_type TITLE "Adat típus",@;
    FIELD param_type_dim  TITLE "Dimanzió",@;
}

TABLE SHAPE sys_params "Rendszer paraméterek" {
    SET DEFAULTS;
    TABLE TYPE SIMPLE;
    
}

TABLE SHAPE groups "felhasználói csoportok" {
    SET DEFAULTS;
    TABLE TYPE GROUP;
    TABLE TITLE "Felhasználói csoportok","Feljasználói csoport",,"Csoportok tagjai", "Coportoknak nem tagjai";
}

TABLE SHAPE users "felhasználók" {
    SET DEFAULTS;
    TABLE TYPE MEMBER;
    RIGHT SHAPE groups;
    FIELD passwd FLAG ON PASSWD, HIDE TABLE;
    TABLE TITLE "Felhasználók","Feljasználó",,"Csoportoknak tagja", "Csoportoknak nem tagja";
    FIELD user_name ORD asc,desc,no;
    FIELD last_name, first_name, user_note, place_id, expired ORD no, asc, desc;
    FIELD user_name, last_name, first_name, user_note, place_id ADD FILTERS begin, like, similar, regexp, regexpi;
    FIELD expired ADD FILTERS big,litle,interval;
}
SET table_shapes[groups].right_shape_ids = ID TABLE SHAPE ( users );

TABLE SHAPE place_groups "Hely és helyiség csoportok / Zónák" {
    SET DEFAULTS;
    TABLE TYPE GROUP;
 // RIGHT SHAPE places;
    TABLE TITLE "Hely csoportok","Hely csoport",,"Csoportok tagjai", "Coportoknak nem tagjai";
    FIELD place_group_name ORD asc,desc,no;
}

TABLE places SHAPE places_tree "Helyiségek (fa)" {
    SET DEFAULTS;
    TABLE TYPE TREE, MEMBER;
    RIGHT SHAPE place_groups;
    TABLE FEATURES ":map=get_parent_image:";
    TABLE TITLE "Helyek, helyiségek", "Hely helyiség",,"Csoportoknak tagja", "Csoportoknak nem tagja";
    FIELD place_name ORD asc,desc,no;
    FIELD parent_id FLAG HIDE TABLE;
}

TABLE SHAPE places "Helyiségek (tábla)" {
    SET DEFAULTS;
    TABLE TYPE MEMBER;
    RIGHT SHAPE place_groups;
    TABLE FEATURES ":map=get_parent_image:";
    TABLE TITLE "Helyek, helyiségek", "Hely, helyiség",,"Csoportoknak tagja", "Csoportoknak nem tagja";
    FIELD place_name ORD asc,desc,no;
    FIELD place_name, place_note, place_type, parent_id, tels ADD FILTERS begin, like, similar, regexp, regexpi;
}

SET table_shapes[place_groups].right_shape_ids = ID TABLE SHAPE ( places_tree );

GUI lv2gui {
    file MENU {
        TITLE "fájl";
        setup       OWN     setup           {   TITLE "Beállítások",@;  }
        gsetup      OWN     gsetup          {   TITLE "GUI Beállítások",@;  }
        sys_params  SHAPE   sys_params      {   TITLE "Rendszer paraméterek",@;  }
        param_types SHAPE   param_types     {   TITLE "Paraméter típus leírók",@;  }
        restart     EXEC    restart         {   TITLE "Újraindítás";  }
        exit        EXEC    exit            {   TITLE "Kilép";  }
    }
    userss MENU  {
        TITLE "Felhasználók";
        users       SHAPE   users           {   TITLE "Felhasználók",@;  }
        groups      SHAPE   groups          {   TITLE "Felhasználói csoportok",@;  }
        zones       SHAPE   place_groups    {   TITLE "Zónák",@;  }
    }
    objects MENU  {
        TITLE "Objektumok";
        patchs      SHAPE   patchs          {   TITLE "Patch panelek",@;  }
        nodes       SHAPE   allnodes        {   TITLE "Hálózati elemek",@;  }
        places_t    SHAPE   places_tree     {   TITLE "Helyek, helyiségek (fa)",@;  }
        places      SHAPE   places          {   TITLE "Helyek, helyiségek (tábla)",@;  }
        services    SHAPE   services        {   TITLE "Szolgáltatások",@;  }
        service_types SHAPE service_types   {   TITLE "Szolgáltatás típusok",@; }
        query_parsers SHAPE query_parsers   {   TITLE "Lekérdezés fordító",@; }
        host_services_t SHAPE host_services {   TITLE "Szolgáltatás példányok (fa)",@;  }
        host_services   SHAPE host_services_tree { TITLE "Szolgáltatás példányok (tábla)",@;  }
        subnets     SHAPE   subnets         {   TITLE "Alhálózatok",@;  }
        vlans       SHAPE   vlans           {   TITLE "VLAN-ok",@;  }
        images      SHAPE   images          {   TITLE "Képek",@;  }
        timeperiods SHAPE   timeperiods     {   TITLE "Időintervallumok",@;  }
    }
    events MENU {
        TITLE "Események";
        alarms      SHAPE   alarms          {   TITLE "Riasztások",@;  }
        alarms_tree SHAPE   alarms_tree     {   TITLE "Riasztások (fa)",@;  }
        app_errs    SHAPE   app_errs        {   TITLE "Program hiba napló",@;  }
        app_memos   SHAPE   app_memos       {   TITLE "Program esemény napló",@;  }
        db_errs     SHAPE   db_errs         {   TITLE "Adatbázis hiba napló" ,@;  }
        host_service_logs SHAPE host_service_logs { TITLE "Szervíz állapot napló",@;  }
        olalarm     OWN     olalarm         {   TITLE "On-Line riasztások",@;  }
        api_ecodes  OWN     errcodes        {   TITLE "API hiba kódok",@; }
    }
    topology MENU {
        TITLE "Hálózati topológia";
        phsnodes    SHAPE   phsnodes        {   TITLE "Hálózati csomópontok",@; }
    }
    netothers MENU {
        TITLE "Egyébb hálózati adatok";
        arps        SHAPE   arps            {   TITLE "ARP tábla",@;  }
        arp_logs    SHAPE   arp_logs        {   TITLE "ARP napló",@;  }
        mactab      SHAPE   mactab          {   TITLE "Port címtáblák",@;  }
        mactab_logs SHAPE   mactab_logs     {   TITLE "Port címtáblak napló",@;  }
        dyn_addr_ranges SHAPE dyn_addr_ranges { TITLE "Dinamikus címtartományok",@; }
        iftypes     SHAPE   iftypes         {   TITLE "Port típusok",@; }
    }
    internals MENU {
        TITLE "Belső vezérlő adatok";
        RIGHTS operator;
        fkey_types  SHAPE   fkey_types      {   TITLE "Idegen kulcs típusok",@;  }
        unusual_fkeys SHAPE unusual_fkeys   {   TITLE "Idegen kulcs és öröklődés",@;  }
    }
    gui MENU {
        TITLE "Megjelenítés";
        RIGHTS operator;
        alarm_messages SHAPE alarm_messages {   TITLE "Figyelmeztető üzenetek szövege",@;  }
        shapes      SHAPE   table_shapes    {   TITLE "Táblák megjelenítése",@;  }
        enums       SHAPE   enum_vals       {   TITLE "Enumerációs értékek",@;  }
        menus       SHAPE   menu_items      {   TITLE "GUI menük",@;  }
    }
    tools MENU {
        TITLE "Eszközök";
        RIGHTS admin;
        import      OWN     parser          {   TITLE "Szöveges import",@; }
    }
}
